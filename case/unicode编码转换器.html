<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		.container{
			margin:100px auto;
			width:1000px;
		}
		.text1{
			float:left;
			width:400px;
		}
		.text2{
			float:right;
			width:400px;
		}
		.controller{
			float:left;
			width:200px;
			text-align: center;
		}
		.controller button {
			margin:20px;
			width:100px;
			height:40px;
			line-height: 40px;
			background: #f5f5f5;
			border:1px solid #ccc;
			cursor:pointer;
		}
		.box textarea{
			width:100%;
		}
	</style>
</head>
<body>
	<div class="container">
		<h1>字符 unicode 转换</h1>
		<hr>

		<div class="box">
			<div class="text1">
				<textarea name="" id="t1" cols="30" rows="10"></textarea>
			</div>

			<div class="controller">
				<button onclick="toUnicode()"> >>unicode </button>
				<button onclick="toNative()"> <<字符 </button>
			</div>

			<div class="text2">
				<textarea name="" id="t2" cols="30" rows="10"></textarea>
			</div>
		</div>
	</div>

	<script>
		//转换为 unicode 字符
		function toUnicode() {
			var text = document.getElementById("t1").value;//获取字符串

			var code_str = ""; //声明空字符串

			// 遍历
			for (var i = 0; i < text.length; i ++) {
				code_str += "\\u"+text.charCodeAt(i);
			}

			document.getElementById("t2").value = code_str;
		} 

		//unicode 转换为 自然字符
		function toNative() {
			var code = document.getElementById("t2").value;//获取unicode字符串
			var code_list = code.split("\\u");//把字符串分割数组
			code_list.shift(); //去掉第一个元素

			var native_str = "";

			//循环
			for (var i = 0; i < code_list.length; i ++) {
				native_str += String.fromCharCode(code_list[i]);
			}
			document.getElementById("t1").value = native_str;
		}
	</script>
</body>
</html>